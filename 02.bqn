str â† â€¢Import "util/strings.bqn"

Chop â† (1âŠ¸+âŠâŸœâŸ¨':'âŸ©)âŠ¸â†“                              # chop off the "Game n:" prefix
lines â† ChopÂ¨ â€¢FLines "input02"

Counts â† {str.ToNatsË˜ (3 âŒ½ ğ•© â· ğ•¨) / (2-â‰ ğ•©)â†“2â†•ğ•¨}    # extract array of counts for a given color from a single game
max â† âŒˆÂ´âˆ˜â¥ŠÂ¨ lines CountsâŒœ âŸ¨"red", "green", "blue"âŸ© # max r/g/b count per game

# Part 1: sum of indices (1-indexed) of games that pass a possibility test
threshold â† âŸ¨12, 13, 14âŸ©
passed â† âˆ§Â´Ë˜(thresholdâŠ¸â‰¥Ë˜ max)
â€¢Show +Â´ /âŸœ(1âŠ¸+âˆ˜â†•â‰ ) passed 

# Part 2: sum of the products of each game's max r/g/b
â€¢Show +Â´Ã—Â´Ë˜max
